# Деплой Telegram-бота на Vercel

Этот документ описывает процесс деплоя Telegram-бота с мини-играми на Vercel через вебхук.

## Подготовка проекта

1. Проект уже настроен для работы с вебхуками вместо long polling
2. Добавлен файл `vercel.json` с необходимыми настройками
3. Обновлен `package.json` с зависимостями и скриптами

## Шаги для деплоя на Vercel

1. Создайте аккаунт на [Vercel](https://vercel.com/) если у вас его еще нет
2. Подключите ваш GitHub-аккаунт к Vercel
3. Импортируйте репозиторий на Vercel

### Настройка переменных окружения

При импорте репозитория на Vercel добавьте следующие переменные окружения:

- `BOT_TOKEN`: Токен вашего бота от BotFather (уже установлен в vercel.json)
- `URL`: URL вашего приложения на Vercel (например, https://your-app-name.vercel.app)

### Настройка вебхука в Telegram

После деплоя на Vercel, вам нужно зарегистрировать вебхук в Telegram. Это можно сделать, посетив URL:

```
https://api.telegram.org/bot{BOT_TOKEN}/setWebhook?url={VERCEL_URL}/bot{BOT_TOKEN}
```

Где:
- `{BOT_TOKEN}` - токен вашего бота
- `{VERCEL_URL}` - URL вашего приложения на Vercel

## Доступ к файловой системе

Учтите, что на Vercel нет постоянной файловой системы, поэтому:

1. Сохранение данных в JSON-файлы будет работать только временно
2. Для устойчивого хранения данных рекомендуется использовать MongoDB или другую облачную базу данных

## Сохранение данных

Для сохранения данных в продакшене, рекомендуется изменить логику сохранения, используя:

1. MongoDB Atlas (бесплатные аккаунты доступны)
2. Firebase Realtime Database
3. Redis Labs
4. Upstash (Redis, совместимый с Vercel)

## Ограничения Vercel Serverless Functions

1. Максимальное время выполнения функции - 10 секунд (бесплатный тариф)
2. Отсутствие постоянной файловой системы
3. Холодный старт при долгом простое

## Проверка работоспособности

После деплоя бот должен ответить на команду `/start`. Если бот не отвечает:

1. Проверьте логи в Vercel Dashboard
2. Убедитесь, что вебхук успешно установлен
3. Проверьте переменные окружения 